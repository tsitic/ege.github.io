<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Оценки: Математика и Информатика</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Домашний экран -->
  <main class="container view active" id="home">
    <h1 class="title">Выберите предмет</h1>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="showSubject('math')">Математика</button>
      <button class="btn btn-primary" onclick="showSubject('cs')">Информатика</button>
    </div>
  </main>

  <!-- Экран предмета -->
  <main class="container view" id="subject">
    <header class="topbar">
      <button class="back" aria-label="Назад" onclick="goBack()">←</button>
      <h2 class="subject-title" id="subjectTitle">Предмет</h2>
    </header>

    <div class="table-wrap">
      <table class="grades">
        <thead>
          <tr>
            <th>№</th>
            <th>Оценка</th>
          </tr>
        </thead>
        <tbody id="tableBody">
        </tbody>
      </table>
    </div>
  </main>

  <script>
    //ОЦЕНКИ
    const GRADES = {
      math: [
        2,0,2,4,1,  4,4,3,5,3,  3,3,2,0,0,  0,0,0,2  
      ],
      cs: [
        3,0,4,4,0,  0,2,3,1,4,  3,4,0,0,0,  0,0,0,0,  0,0,0,0,0,  0,0,0 
      ]
    };

    const SUBJECTS = {
      math: { title: "Математика", count: 19 },
      cs:   { title: "Информатика", count: 27 }
    };

    //Основные функции
    function showSubject(key) {
      const subj = SUBJECTS[key];
      const data = GRADES[key] || [];
      document.getElementById("subjectTitle").textContent = subj.title;
      populateTable(subj.count, data, key);
      document.getElementById("home").classList.remove("active");
      document.getElementById("subject").classList.add("active");
      window.scrollTo({ top: 0, behavior: "instant" });
    }

    function goBack() {
      document.getElementById("subject").classList.remove("active");
      document.getElementById("home").classList.add("active");
      window.scrollTo({ top: 0, behavior: "instant" });
    }

    function gradeClass(g) {
      if (g === 0) return "";
      if (g === 1 || g === 2) return "grade-red";
      if (g === 3) return "grade-orange";
      if (g === 4) return "grade-yellow";
      if (g === 5) return "grade-green";
      return "";
    }

    //"Вторая часть"
    function populateTable(expectedCount, grades, subjectKey = "") {
      const tbody = document.getElementById("tableBody");
      tbody.innerHTML = "";

      for (let i = 1; i <= expectedCount; i++) {
        //разделитель после 12-й строки у мат
        if (subjectKey === "math" && i === 13) {
          const trTitle = document.createElement("tr");
          trTitle.className = "section-title";
          trTitle.innerHTML = `<td colspan="2">Вторая часть</td>`;
          tbody.appendChild(trTitle);
        }

        const g = Number(grades[i - 1] ?? 0);
        const tr = document.createElement("tr");
        tr.className = gradeClass(g);
        tr.innerHTML = `<td>${i}</td><td>${g}</td>`;
        tbody.appendChild(tr);
      }
    }
  </script>
</body>
</html>

